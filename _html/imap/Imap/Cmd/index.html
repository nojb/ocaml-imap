<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cmd (imap.Imap.Cmd)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">imap</a> &#x00BB; <a href="../index.html">Imap</a> &#x00BB; Cmd</nav><h1>Module <code>Imap.Cmd</code></h1><nav class="toc"><ul><li><a href="#commands">Commands</a></li></ul></nav></header><section><header><h2 id="commands"><a href="#commands" class="anchor"></a>Commands</h2></header><dl><dt class="spec type" id="type-cmd"><a href="#type-cmd" class="anchor"></a><code><span class="keyword">type</span> <span>'a cmd</span></code></dt></dl><dl><dt class="spec value" id="val-encode"><a href="#val-encode" class="anchor"></a><code><span class="keyword">val</span> encode : string <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-cmd">cmd</a></span> <span>&#45;&gt;</span> <span>[ <span>`Next of string * <span class="type-var">'x</span></span> <span><span>| `Wait</span> of <span class="type-var">'x</span></span> <span>| `End</span> ]</span> <span class="keyword">as</span> 'x</code></dt><dt class="spec value" id="val-process"><a href="#val-process" class="anchor"></a><code><span class="keyword">val</span> process : <span><span class="type-var">'a</span> <a href="index.html#type-cmd">cmd</a></span> <span>&#45;&gt;</span> <a href="../Response/index.html#type-untagged">Response.untagged</a> <span>&#45;&gt;</span> <span><span>(<span><span class="type-var">'a</span> <a href="index.html#type-cmd">cmd</a></span>, string)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-finish"><a href="#val-finish" class="anchor"></a><code><span class="keyword">val</span> finish : <span><span class="type-var">'a</span> <a href="index.html#type-cmd">cmd</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-login"><a href="#val-login" class="anchor"></a><code><span class="keyword">val</span> login : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dt class="spec value" id="val-logout"><a href="#val-logout" class="anchor"></a><code><span class="keyword">val</span> logout : <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : string <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>create imap name</code> creates a mailbox named <code>name</code>.</p></dd></dl><dl><dt class="spec value" id="val-delete"><a href="#val-delete" class="anchor"></a><code><span class="keyword">val</span> delete : string <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>delete imap name</code> deletes mailbox <code>name</code>.</p></dd></dl><dl><dt class="spec value" id="val-rename"><a href="#val-rename" class="anchor"></a><code><span class="keyword">val</span> rename : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>rename imap oldname newname</code> renames mailbox <code>oldname</code> to <code>newname</code>.</p></dd></dl><dl><dt class="spec value" id="val-noop"><a href="#val-noop" class="anchor"></a><code><span class="keyword">val</span> noop : <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>noop imap</code> does nothing. Since any command can return a status update as untagged data, the <code>noop</code> command can be used as a periodic poll for new messages or message status updates during a period of inactivity.</p></dd></dl><dl><dt class="spec value" id="val-list"><a href="#val-list" class="anchor"></a><code><span class="keyword">val</span> list : <span>?&#8288;ref:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><span><span>(<span><a href="../Response/index.html#type-mailbox_flag">Response.mailbox_flag</a> list</span> * <span>char option</span> * string)</span> list</span> <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>list imap ref m</code> returns the list of mailboxes with names matching <code>ref</code>.</p></dd></dl><div class="spec module" id="module-Status"><a href="#module-Status" class="anchor"></a><code><span class="keyword">module</span> <a href="Status/index.html">Status</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-status"><a href="#val-status" class="anchor"></a><code><span class="keyword">val</span> status : string <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Status/index.html#type-t">Status.t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> option</span> <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>status imap mbox items</code> requests status <code>items</code> for mailbox <code>mbox</code>.</p></dd></dl><dl><dt class="spec value" id="val-copy"><a href="#val-copy" class="anchor"></a><code><span class="keyword">val</span> copy : <span><a href="../Common/index.html#type-seq">Common.seq</a> list</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>copy imap nums mbox</code> copies messages with sequence number in <code>nums</code> to mailbox <code>mbox</code>.</p></dd></dl><dl><dt class="spec value" id="val-uid_copy"><a href="#val-uid_copy" class="anchor"></a><code><span class="keyword">val</span> uid_copy : <span><a href="../Common/index.html#type-uid">Common.uid</a> list</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dt class="spec value" id="val-expunge"><a href="#val-expunge" class="anchor"></a><code><span class="keyword">val</span> expunge : <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>expunge imap</code> permanently removes all messages that have the <code>Deleted</code> <code>flag</code> set from the currently selected mailbox.</p></dd></dl><dl><dt class="spec value" id="val-uid_expunge"><a href="#val-uid_expunge" class="anchor"></a><code><span class="keyword">val</span> uid_expunge : <span><a href="../Common/index.html#type-uid">Common.uid</a> list</span> <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p>Requires <code>UIDPLUS</code> extension.</p></dd></dl><div class="spec module" id="module-Search"><a href="#module-Search" class="anchor"></a><code><span class="keyword">module</span> <a href="Search/index.html">Search</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-search"><a href="#val-search" class="anchor"></a><code><span class="keyword">val</span> search : <a href="Search/index.html#type-key">Search.key</a> <span>&#45;&gt;</span> <span><span>(<span><a href="../Common/index.html#type-seq">Common.seq</a> list</span> * <span><a href="../Common/index.html#type-modseq">Common.modseq</a> option</span>)</span> <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>uid_search imap key</code> returns the set of UIDs of messages satisfying the criteria <code>key</code>.</p></dd></dl><dl><dt class="spec value" id="val-uid_search"><a href="#val-uid_search" class="anchor"></a><code><span class="keyword">val</span> uid_search : <a href="Search/index.html#type-key">Search.key</a> <span>&#45;&gt;</span> <span><span>(<span><a href="../Common/index.html#type-uid">Common.uid</a> list</span> * <span><a href="../Common/index.html#type-modseq">Common.modseq</a> option</span>)</span> <a href="index.html#type-cmd">cmd</a></span></code></dt><dt class="spec value" id="val-examine"><a href="#val-examine" class="anchor"></a><code><span class="keyword">val</span> examine : string <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>select imap m</code> selects the mailbox <code>m</code> for access.</p></dd></dl><dl><dt class="spec value" id="val-select"><a href="#val-select" class="anchor"></a><code><span class="keyword">val</span> select : string <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>select imap m</code> selects the mailbox <code>m</code> for access.</p></dd></dl><dl><dt class="spec value" id="val-append"><a href="#val-append" class="anchor"></a><code><span class="keyword">val</span> append : string <span>&#45;&gt;</span> <span>?&#8288;flags:<span><a href="../Response/index.html#type-flag">Response.flag</a> list</span></span> <span>&#45;&gt;</span> <span>?&#8288;internaldate:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>append imap mbox flags id data</code> appends <code>data</code> as a new message to the end of the mailbox <code>mbox</code>. An optional flag list can be passed using the <code>flags</code> argument.</p></dd></dl><div class="spec module" id="module-Fetch"><a href="#module-Fetch" class="anchor"></a><code><span class="keyword">module</span> <a href="Fetch/index.html">Fetch</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-fetch"><a href="#val-fetch" class="anchor"></a><code><span class="keyword">val</span> fetch : <span>?&#8288;changed_since:<a href="../Common/index.html#type-modseq">Common.modseq</a></span> <span>&#45;&gt;</span> <span><a href="../Common/index.html#type-seq">Common.seq</a> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Fetch/index.html#type-t">Fetch.t</a></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>fetch imap uid ?changed_since set att</code> retrieves data associated with messages with sequence number in <code>set</code>.</p><p>If the <code>?changed_since</code> argument is passed, only those messages with <code>CHANGEDSINCE</code> mod-sequence value at least the passed value are affected (requires the <code>CONDSTORE</code> extension).</p></dd></dl><dl><dt class="spec value" id="val-uid_fetch"><a href="#val-uid_fetch" class="anchor"></a><code><span class="keyword">val</span> uid_fetch : <span>?&#8288;changed_since:<a href="../Common/index.html#type-modseq">Common.modseq</a></span> <span>&#45;&gt;</span> <span><a href="../Common/index.html#type-uid">Common.uid</a> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Fetch/index.html#type-t">Fetch.t</a></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt></dl><dl><dt class="spec type" id="type-store_mode"><a href="#type-store_mode" class="anchor"></a><code><span class="keyword">type</span> store_mode</code> = <code>[ </code><table class="variant"><tr id="type-store_mode.Add" class="anchored"><td class="def constructor"><a href="#type-store_mode.Add" class="anchor"></a><code>| </code><code>`Add</code></td></tr><tr id="type-store_mode.Remove" class="anchored"><td class="def constructor"><a href="#type-store_mode.Remove" class="anchor"></a><code>| </code><code>`Remove</code></td></tr><tr id="type-store_mode.Set" class="anchored"><td class="def constructor"><a href="#type-store_mode.Set" class="anchor"></a><code>| </code><code>`Set</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-store_kind"><a href="#type-store_kind" class="anchor"></a><code><span class="keyword">type</span> <span>_ store_kind</span></code><code> = </code><table class="variant"><tr id="type-store_kind.Flags" class="anchored"><td class="def constructor"><a href="#type-store_kind.Flags" class="anchor"></a><code>| </code><code><span class="constructor">Flags</span> : <span><a href="../Response/index.html#type-flag">Response.flag</a> <a href="index.html#type-store_kind">store_kind</a></span></code></td></tr><tr id="type-store_kind.Labels" class="anchored"><td class="def constructor"><a href="#type-store_kind.Labels" class="anchor"></a><code>| </code><code><span class="constructor">Labels</span> : <span>string <a href="index.html#type-store_kind">store_kind</a></span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-store"><a href="#val-store" class="anchor"></a><code><span class="keyword">val</span> store : <span>?&#8288;unchanged_since:<a href="../Common/index.html#type-modseq">Common.modseq</a></span> <span>&#45;&gt;</span> <a href="index.html#type-store_mode">store_mode</a> <span>&#45;&gt;</span> <span><a href="../Common/index.html#type-seq">Common.seq</a> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-store_kind">store_kind</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt><dd><p><code>store imap ?unchanged_since mode nums kind</code> modifies <code>kind</code> according to <code>mode</code> for those message with sequence number in <code>nums</code>.</p><p>If <code>?unchanged_since</code> is present, then only those messages with <code>UNCHANGEDSINCE</code> mod-sequence value at least the passed value are affected.</p></dd></dl><dl><dt class="spec value" id="val-uid_store"><a href="#val-uid_store" class="anchor"></a><code><span class="keyword">val</span> uid_store : <span>?&#8288;unchanged_since:<a href="../Common/index.html#type-modseq">Common.modseq</a></span> <span>&#45;&gt;</span> <a href="index.html#type-store_mode">store_mode</a> <span>&#45;&gt;</span> <span><a href="../Common/index.html#type-uid">Common.uid</a> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-store_kind">store_kind</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <span>unit <a href="index.html#type-cmd">cmd</a></span></code></dt></dl></section></div></body></html>